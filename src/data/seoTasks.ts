import { SEOCategory, Impact, Priority } from '@/types/seo';

interface TaskTemplate {
  title: string;
  description: string;
  whyItMatters: string;
  executionSteps: string[];
  toolsRequired: string[];
  expectedImpact: Impact;
  priority: Priority;
  category: SEOCategory;
}

export const SEO_TASK_TEMPLATES: TaskTemplate[] = [
  // TECHNICAL SEO
  {
    category: 'technical',
    title: 'Crawl Error Audit',
    description: 'Identify and fix all crawl errors preventing search engines from indexing pages.',
    whyItMatters: 'Crawl errors prevent pages from being indexed, directly impacting organic visibility.',
    executionSteps: ['Open Google Search Console', 'Navigate to Coverage report', 'Export all errors', 'Categorize by error type (404, 5xx, redirect)', 'Prioritize by page importance', 'Fix or redirect each URL', 'Request re-indexing'],
    toolsRequired: ['Google Search Console', 'Screaming Frog', 'Ahrefs'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'technical',
    title: 'XML Sitemap Validation',
    description: 'Ensure XML sitemap is properly formatted, submitted, and contains all indexable URLs.',
    whyItMatters: 'Sitemaps guide search engines to discover and prioritize your content.',
    executionSteps: ['Locate current sitemap', 'Validate format with XML validator', 'Check for non-200 URLs', 'Ensure all important pages are included', 'Remove noindex pages', 'Submit to GSC', 'Verify processing'],
    toolsRequired: ['Google Search Console', 'Screaming Frog', 'XML Sitemap Validator'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'technical',
    title: 'Robots.txt Review',
    description: 'Audit robots.txt to ensure correct crawl directives.',
    whyItMatters: 'Misconfigured robots.txt can block important pages from indexing.',
    executionSteps: ['Access /robots.txt', 'Review all Disallow directives', 'Check for accidental blocks', 'Verify sitemap reference', 'Test with GSC robots tester', 'Update and deploy'],
    toolsRequired: ['Google Search Console', 'Browser'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'technical',
    title: 'Canonical Tag Audit',
    description: 'Verify all pages have proper canonical tags to prevent duplicate content.',
    whyItMatters: 'Canonical issues cause duplicate content penalties and dilute ranking signals.',
    executionSteps: ['Crawl entire site', 'Extract canonical tags', 'Identify self-referencing vs cross-domain', 'Find pages with missing canonicals', 'Fix incorrect canonicals', 'Validate implementation'],
    toolsRequired: ['Screaming Frog', 'Ahrefs', 'Chrome DevTools'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'technical',
    title: 'Redirect Audit (3xx)',
    description: 'Identify and optimize all redirects, fix chains and loops.',
    whyItMatters: 'Redirect chains waste crawl budget and dilute PageRank.',
    executionSteps: ['Crawl site for 3xx responses', 'Map redirect chains', 'Identify redirect loops', 'Check for unnecessary redirects', 'Update to direct 301s', 'Update internal links to final URLs'],
    toolsRequired: ['Screaming Frog', 'Ahrefs', 'Redirect Path extension'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'technical',
    title: 'Page Speed Optimization',
    description: 'Analyze and improve page loading performance across all key pages.',
    whyItMatters: 'Page speed is a direct ranking factor and impacts user experience.',
    executionSteps: ['Run PageSpeed Insights for top pages', 'Identify LCP, FID, CLS issues', 'Optimize images (WebP, lazy load)', 'Minimize CSS/JS', 'Enable compression', 'Implement caching', 'Re-test after changes'],
    toolsRequired: ['PageSpeed Insights', 'GTmetrix', 'WebPageTest', 'Chrome DevTools'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'technical',
    title: 'Core Web Vitals Analysis',
    description: 'Measure and optimize LCP, FID/INP, and CLS metrics.',
    whyItMatters: 'Core Web Vitals are confirmed ranking signals affecting search visibility.',
    executionSteps: ['Check CWV in GSC', 'Identify failing URLs', 'Analyze LCP bottlenecks', 'Fix layout shifts (CLS)', 'Optimize interactivity (INP)', 'Monitor field data vs lab data', 'Track improvements'],
    toolsRequired: ['Google Search Console', 'PageSpeed Insights', 'Chrome UX Report', 'Web Vitals extension'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'technical',
    title: 'Mobile Usability Audit',
    description: 'Ensure complete mobile-friendliness across all pages.',
    whyItMatters: 'Google uses mobile-first indexing; mobile issues directly hurt rankings.',
    executionSteps: ['Run Mobile-Friendly Test', 'Check GSC Mobile Usability report', 'Test on actual devices', 'Fix viewport issues', 'Ensure tap targets are adequate', 'Check font readability', 'Verify no horizontal scroll'],
    toolsRequired: ['Google Mobile-Friendly Test', 'GSC', 'BrowserStack'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'technical',
    title: 'Structured Data / Schema Validation',
    description: 'Implement and validate schema markup across the site.',
    whyItMatters: 'Schema enables rich snippets, increasing CTR from search results.',
    executionSteps: ['Identify applicable schema types', 'Implement JSON-LD markup', 'Validate with Rich Results Test', 'Check GSC enhancements report', 'Fix errors and warnings', 'Monitor rich result appearances'],
    toolsRequired: ['Schema.org', 'Google Rich Results Test', 'GSC'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'technical',
    title: 'Index Coverage Analysis',
    description: 'Review and optimize index coverage in Google Search Console.',
    whyItMatters: 'Understanding indexation gaps reveals content not contributing to SEO.',
    executionSteps: ['Review GSC Coverage report', 'Analyze excluded pages', 'Identify "Discovered but not indexed"', 'Fix "Crawled but not indexed"', 'Submit important pages', 'Remove low-quality pages'],
    toolsRequired: ['Google Search Console'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'technical',
    title: 'HTTPS Security Audit',
    description: 'Verify complete HTTPS implementation with no mixed content.',
    whyItMatters: 'HTTPS is a ranking signal; mixed content damages trust and security.',
    executionSteps: ['Check SSL certificate validity', 'Scan for mixed content', 'Verify HTTP to HTTPS redirects', 'Update hardcoded HTTP URLs', 'Check HSTS implementation', 'Validate in GSC'],
    toolsRequired: ['SSL Labs', 'Why No Padlock', 'Screaming Frog'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'technical',
    title: 'Internal Linking Structure Audit',
    description: 'Optimize internal link architecture for crawlability and PageRank flow.',
    whyItMatters: 'Internal links distribute authority and help search engines understand site hierarchy.',
    executionSteps: ['Crawl site for internal links', 'Identify orphan pages', 'Map link depth from homepage', 'Find pages with low internal links', 'Add contextual internal links', 'Fix broken internal links', 'Optimize anchor text'],
    toolsRequired: ['Screaming Frog', 'Ahrefs', 'Sitebulb'],
    expectedImpact: 'high',
    priority: 'high',
  },

  // ON-PAGE SEO
  {
    category: 'on-page',
    title: 'Title Tag Optimization',
    description: 'Optimize title tags for target keywords and CTR.',
    whyItMatters: 'Title tags are the strongest on-page ranking signal and primary SERP element.',
    executionSteps: ['Export all title tags', 'Identify missing/duplicate titles', 'Check character length (50-60)', 'Include primary keyword', 'Add compelling modifiers', 'A/B test variations', 'Monitor CTR changes'],
    toolsRequired: ['Screaming Frog', 'Ahrefs', 'Google Search Console'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'on-page',
    title: 'Meta Description Optimization',
    description: 'Write compelling meta descriptions with target keywords.',
    whyItMatters: 'Meta descriptions influence CTR from search results pages.',
    executionSteps: ['Export all meta descriptions', 'Identify missing descriptions', 'Write unique descriptions (150-160 chars)', 'Include target keywords naturally', 'Add call-to-action', 'Include unique value proposition'],
    toolsRequired: ['Screaming Frog', 'Google Search Console'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'on-page',
    title: 'Header Structure Audit (H1-H6)',
    description: 'Ensure proper heading hierarchy across all pages.',
    whyItMatters: 'Headings communicate content structure to search engines and users.',
    executionSteps: ['Crawl for heading structure', 'Ensure one H1 per page', 'Check H1 includes target keyword', 'Verify logical H2-H6 hierarchy', 'Fix skipped heading levels', 'Optimize subheadings for LSI keywords'],
    toolsRequired: ['Screaming Frog', 'Chrome DevTools', 'SEO Meta extension'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'on-page',
    title: 'Keyword Placement Audit',
    description: 'Verify optimal keyword placement in critical page elements.',
    whyItMatters: 'Strategic keyword placement signals topical relevance to search engines.',
    executionSteps: ['Map target keywords to pages', 'Check title, H1, first paragraph', 'Verify URL contains keyword', 'Check image alt text', 'Analyze keyword density', 'Add LSI keywords naturally', 'Avoid keyword stuffing'],
    toolsRequired: ['Surfer SEO', 'Clearscope', 'Ahrefs'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'on-page',
    title: 'Image ALT Text Optimization',
    description: 'Add descriptive, keyword-rich ALT text to all images.',
    whyItMatters: 'ALT text improves accessibility and image search visibility.',
    executionSteps: ['Crawl for images without ALT', 'Write descriptive ALT text', 'Include keywords where natural', 'Optimize file names', 'Compress images', 'Add title attributes where useful'],
    toolsRequired: ['Screaming Frog', 'Chrome DevTools'],
    expectedImpact: 'medium',
    priority: 'medium',
  },
  {
    category: 'on-page',
    title: 'URL Structure Audit',
    description: 'Optimize URL structure for SEO best practices.',
    whyItMatters: 'Clean URLs improve user experience and include ranking signals.',
    executionSteps: ['Export all URLs', 'Identify long/messy URLs', 'Remove unnecessary parameters', 'Include target keywords', 'Use hyphens as separators', 'Implement proper redirects for changes'],
    toolsRequired: ['Screaming Frog', 'Ahrefs'],
    expectedImpact: 'medium',
    priority: 'medium',
  },
  {
    category: 'on-page',
    title: 'Content Depth Analysis',
    description: 'Evaluate content comprehensiveness vs top-ranking competitors.',
    whyItMatters: 'Comprehensive content ranks higher and satisfies user intent better.',
    executionSteps: ['Identify key pages', 'Analyze top 10 competitors', 'Compare word count and topics covered', 'Identify content gaps', 'Add missing subtopics', 'Include data, examples, visuals', 'Update and expand thin content'],
    toolsRequired: ['Surfer SEO', 'Clearscope', 'Frase', 'Ahrefs'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'on-page',
    title: 'Thin Content Detection',
    description: 'Find and improve pages with insufficient content.',
    whyItMatters: 'Thin content pages can trigger quality penalties and waste crawl budget.',
    executionSteps: ['Crawl for word count', 'Identify pages under 300 words', 'Categorize: expand, merge, or remove', 'Expand valuable pages', 'Consolidate similar thin pages', 'Noindex or remove low-value pages'],
    toolsRequired: ['Screaming Frog', 'Ahrefs', 'Google Analytics'],
    expectedImpact: 'medium',
    priority: 'medium',
  },
  {
    category: 'on-page',
    title: 'Duplicate Content Detection',
    description: 'Find and resolve all duplicate content issues.',
    whyItMatters: 'Duplicate content confuses search engines and splits ranking signals.',
    executionSteps: ['Run site crawl for duplicates', 'Check for parameter-based duplicates', 'Verify canonical implementation', 'Use Copyscape for external duplication', 'Implement canonical tags', 'Set up proper pagination', 'Use hreflang for multilingual'],
    toolsRequired: ['Screaming Frog', 'Copyscape', 'Siteliner'],
    expectedImpact: 'high',
    priority: 'high',
  },

  // CONTENT SEO
  {
    category: 'content',
    title: 'Keyword Research',
    description: 'Comprehensive keyword research for target market and audience.',
    whyItMatters: 'Keywords are the foundation of all SEO efforts; wrong targets waste resources.',
    executionSteps: ['Brainstorm seed keywords', 'Use keyword tools for expansion', 'Analyze search volume and difficulty', 'Map keywords to search intent', 'Group into topic clusters', 'Prioritize by business value', 'Create keyword map'],
    toolsRequired: ['Ahrefs', 'SEMrush', 'Google Keyword Planner', 'AnswerThePublic'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'content',
    title: 'Search Intent Mapping',
    description: 'Map all target keywords to correct search intent types.',
    whyItMatters: 'Content matching wrong intent will never rank regardless of quality.',
    executionSteps: ['Categorize keywords by intent', 'Analyze SERP features for each', 'Map informational vs transactional', 'Align content format to intent', 'Identify mixed-intent keywords', 'Create content templates per intent'],
    toolsRequired: ['Google Search', 'Ahrefs', 'SEMrush'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'content',
    title: 'Content Gap Analysis',
    description: 'Identify topics competitors rank for that you don\'t.',
    whyItMatters: 'Content gaps represent missed traffic and revenue opportunities.',
    executionSteps: ['List top 5 competitors', 'Run content gap analysis', 'Identify keywords they rank for', 'Filter by relevance and volume', 'Prioritize by business impact', 'Create content calendar', 'Assign to content team'],
    toolsRequired: ['Ahrefs Content Gap', 'SEMrush', 'Google Search'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'content',
    title: 'Topic Cluster Creation',
    description: 'Build topic clusters with pillar pages and supporting content.',
    whyItMatters: 'Topic clusters establish topical authority and improve internal linking.',
    executionSteps: ['Identify pillar topics', 'Map subtopics for each pillar', 'Create pillar page outlines', 'Plan supporting blog posts', 'Design internal linking strategy', 'Create content briefs', 'Schedule production'],
    toolsRequired: ['Ahrefs', 'MarketMuse', 'Google Sheets'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'content',
    title: 'Blog Content Optimization',
    description: 'Optimize existing blog posts for better rankings.',
    whyItMatters: 'Refreshing existing content is often more efficient than creating new content.',
    executionSteps: ['Identify underperforming posts', 'Update outdated information', 'Expand content depth', 'Optimize for target keywords', 'Add internal links', 'Update publish date', 'Promote updated content'],
    toolsRequired: ['Google Analytics', 'GSC', 'Surfer SEO', 'Clearscope'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'content',
    title: 'FAQ Schema Implementation',
    description: 'Add FAQ structured data to relevant pages.',
    whyItMatters: 'FAQ schema can earn rich snippets, increasing SERP real estate.',
    executionSteps: ['Identify pages with FAQ content', 'Research common questions', 'Write comprehensive answers', 'Implement FAQ JSON-LD schema', 'Validate with Rich Results Test', 'Monitor in GSC enhancements'],
    toolsRequired: ['Schema.org', 'Google Rich Results Test', 'GSC'],
    expectedImpact: 'medium',
    priority: 'medium',
  },

  // OFF-PAGE SEO
  {
    category: 'off-page',
    title: 'Backlink Profile Audit',
    description: 'Comprehensive analysis of existing backlink profile.',
    whyItMatters: 'Understanding your link profile reveals strengths, risks, and opportunities.',
    executionSteps: ['Export full backlink profile', 'Analyze domain authority distribution', 'Identify top linking domains', 'Check anchor text distribution', 'Compare to competitors', 'Identify lost links', 'Plan recovery outreach'],
    toolsRequired: ['Ahrefs', 'Moz', 'Majestic'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'off-page',
    title: 'Toxic Link Detection & Disavow',
    description: 'Identify and disavow harmful backlinks.',
    whyItMatters: 'Toxic links can trigger manual penalties and algorithmic devaluations.',
    executionSteps: ['Export all backlinks', 'Run toxicity analysis', 'Review flagged links manually', 'Attempt link removal outreach', 'Create disavow file', 'Submit to GSC disavow tool', 'Monitor for new toxic links'],
    toolsRequired: ['Ahrefs', 'SEMrush', 'Google Disavow Tool'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'off-page',
    title: 'Link Building Outreach',
    description: 'Execute targeted outreach campaigns for quality backlinks.',
    whyItMatters: 'Quality backlinks remain one of the strongest ranking factors.',
    executionSteps: ['Identify link-worthy content', 'Build prospect list', 'Find contact information', 'Create personalized templates', 'Send outreach emails', 'Follow up systematically', 'Track response rates'],
    toolsRequired: ['Hunter.io', 'Pitchbox', 'Ahrefs', 'Gmail'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'off-page',
    title: 'Guest Post Tracking',
    description: 'Track and manage guest posting opportunities and placements.',
    whyItMatters: 'Guest posts build authority, brand awareness, and quality backlinks.',
    executionSteps: ['Research target publications', 'Pitch article ideas', 'Write high-quality content', 'Include relevant backlinks', 'Track publication dates', 'Monitor link status', 'Build relationships for repeat posts'],
    toolsRequired: ['Google Sheets', 'Ahrefs', 'Email'],
    expectedImpact: 'medium',
    priority: 'medium',
  },
  {
    category: 'off-page',
    title: 'Citation & NAP Consistency',
    description: 'Ensure business citations are consistent across the web.',
    whyItMatters: 'NAP consistency is critical for local SEO and trust signals.',
    executionSteps: ['Audit existing citations', 'Identify inconsistencies', 'Update incorrect listings', 'Submit to new directories', 'Monitor for unauthorized changes', 'Track citation growth'],
    toolsRequired: ['Moz Local', 'BrightLocal', 'Whitespark'],
    expectedImpact: 'medium',
    priority: 'medium',
  },

  // LOCAL SEO
  {
    category: 'local',
    title: 'Google Business Profile Optimization',
    description: 'Fully optimize Google Business Profile for local visibility.',
    whyItMatters: 'GBP is the primary driver of local pack and maps rankings.',
    executionSteps: ['Claim and verify listing', 'Complete all profile fields', 'Add high-quality photos', 'Write compelling description with keywords', 'Set correct categories', 'Add products/services', 'Enable messaging'],
    toolsRequired: ['Google Business Profile', 'Canva'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'local',
    title: 'Local Keyword Targeting',
    description: 'Research and target location-specific keywords.',
    whyItMatters: 'Local keywords capture high-intent, geographically relevant traffic.',
    executionSteps: ['Identify service areas', 'Research "near me" keywords', 'Find city/region-specific terms', 'Create location pages if applicable', 'Optimize for local modifiers', 'Track local rankings separately'],
    toolsRequired: ['Ahrefs', 'Google Keyword Planner', 'BrightLocal'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'local',
    title: 'Review Management Strategy',
    description: 'Implement systematic review acquisition and management.',
    whyItMatters: 'Reviews impact local rankings and conversion rates significantly.',
    executionSteps: ['Audit current reviews', 'Set up review monitoring', 'Create review request workflow', 'Respond to all reviews', 'Address negative reviews', 'Track review velocity', 'Implement review schema'],
    toolsRequired: ['Google Business Profile', 'BrightLocal', 'ReviewTrackers'],
    expectedImpact: 'high',
    priority: 'high',
  },

  // TRACKING & ANALYTICS
  {
    category: 'tracking',
    title: 'Google Search Console Setup & Audit',
    description: 'Ensure GSC is properly configured and all properties verified.',
    whyItMatters: 'GSC is the primary source of search performance data from Google.',
    executionSteps: ['Verify domain property', 'Submit sitemaps', 'Review coverage report', 'Set up email alerts', 'Check for manual actions', 'Review security issues', 'Configure user access'],
    toolsRequired: ['Google Search Console'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'tracking',
    title: 'GA4 Tracking Validation',
    description: 'Verify GA4 is properly tracking all important user interactions.',
    whyItMatters: 'Accurate analytics data is essential for measuring SEO ROI.',
    executionSteps: ['Verify GA4 tag on all pages', 'Check real-time reports', 'Configure key events', 'Set up conversions', 'Enable enhanced measurement', 'Verify cross-domain tracking', 'Test goal completions'],
    toolsRequired: ['Google Analytics 4', 'Google Tag Manager', 'Tag Assistant'],
    expectedImpact: 'high',
    priority: 'critical',
  },
  {
    category: 'tracking',
    title: 'Conversion Tracking Setup',
    description: 'Implement comprehensive conversion tracking for SEO attribution.',
    whyItMatters: 'Without conversion tracking, you can\'t prove SEO ROI.',
    executionSteps: ['Define conversion events', 'Set up form tracking', 'Track phone clicks', 'Configure ecommerce tracking', 'Set up attribution model', 'Create conversion reports', 'Test all tracking'],
    toolsRequired: ['Google Analytics 4', 'Google Tag Manager'],
    expectedImpact: 'high',
    priority: 'high',
  },
  {
    category: 'tracking',
    title: 'Monthly Ranking Tracking',
    description: 'Set up systematic keyword ranking monitoring.',
    whyItMatters: 'Regular ranking tracking shows SEO progress and identifies drops early.',
    executionSteps: ['Select target keywords', 'Set up rank tracker', 'Configure tracking frequency', 'Set up competitor tracking', 'Create ranking reports', 'Set alerts for drops', 'Track SERP features'],
    toolsRequired: ['Ahrefs Rank Tracker', 'SEMrush', 'AccuRanker'],
    expectedImpact: 'medium',
    priority: 'high',
  },
  {
    category: 'tracking',
    title: 'CTR Analysis & Optimization',
    description: 'Analyze and improve click-through rates from search results.',
    whyItMatters: 'Higher CTR can improve rankings and directly increases traffic.',
    executionSteps: ['Export GSC query data', 'Identify low-CTR high-impression pages', 'Analyze current titles and descriptions', 'Test new title variations', 'Add structured data for rich snippets', 'Monitor CTR changes', 'Document winning patterns'],
    toolsRequired: ['Google Search Console', 'Google Sheets'],
    expectedImpact: 'high',
    priority: 'high',
  },
];
